<!DOCTYPE html>
<html>
  <head>
    <%- include("partials/head.ejs") %>
  </head>
  <body>
    <div class="wrap">
      <%- include("partials/header.ejs") %>
      <div class="main">
        <h1 class="main_title uppercase_text"><%= page %></h1>
        <form class="form join_form" action="/members" method="POST">
          <input class="input_form" type="text" name="name" placeholder="이름" required />
          <input class="input_form" id="phone_number" type="text" name="phone_number" placeholder="전화번호" maxlength="11" required />
          <input class="input_form" type="text" name="my_car_number" placeholder="차량번호" maxlength="8" required />
          <input class="input_form" type="text" name="subtotal" placeholder="&#8361;30,000" readonly />
          <input class="input_form" type="hidden" name="total_amount" value="30000" />
          <input class="input_form" id="input_amount" type="text" name="input_amount" placeholder="투입 금액" required />
          <button class="submit_btn join_btn uppercase_text" type="submit"><%= page %></button>
        </form>
      </div>
      <%- include("partials/footer.ejs") %>
    </div>
    <%- include("partials/jquery.ejs") %>
    <script>
      const notNumber = /[^0-9]/gi;

      $(document).ready(function () {
        $('#phone_number')
          .on('focusout', function () {
            var input = $(this).val();
            if (input.length > 0) {
              if (input.match(notNumber)) {
                input = input.replace(notNumber, '');
              }
              $(this).val(input);
            }
          })
          .on('keyup', function () {
            $(this).val($(this).val().replace(notNumber, ''));
          });

        $('#input_amount')
          .on('focusout', function () {
            var input = $(this).val();
            if (input.length > 0) {
              if (input.match(notNumber)) {
                input = input.replace(notNumber, '');
              }
              $(this).val(input);
            }
          })
          .on('keyup', function () {
            $(this).val($(this).val().replace(notNumber, ''));
          });
      });
    </script>
  </body>
</html>
